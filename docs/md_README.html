<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>fdtd3d: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">fdtd3d
   &#160;<span id="projectnumber">0.4</span>
   </div>
   <div id="projectbrief">FDTD multi-dimensional solver</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/zer011b/fdtd3d"></a></p>
<h1>fdtd3d</h1>
<p>This is an open-source implementation of FDTD Maxwell's equations solver for different dimensions (1, 2 or 3) with support of concurrency (MPI/OpenMP/Cuda) if required. The key idea is building of solver for your specific needs with different components, i.e. concurrency support with enabled MPI, OpenMP or GPU support, parallel buffer types, specific dimension and others.</p>
<p>For additional info on current project development status and future plans check issues and milestones.</p>
<h1>Build Process</h1>
<p>Build is done using cmake. Also there are build and run scripts you could find useful.</p>
<h2>Build</h2>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;mkdir Release</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;cd Release</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;cmake .. -DCMAKE_BUILD_TYPE=Release</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;make</div></div><!-- fragment --><h2>Additional Example</h2>
<p>Build command for 3D grid in detail:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;cmake .. -DCMAKE_BUILD_TYPE=Release -DVALUE_TYPE=d -DCOMPLEX_FIELD_VALUES=OFF -DTIME_STEPS=2 \</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;-DPARALLEL_GRID_DIMENSION=3 -DPRINT_MESSAGE=ON -DPARALLEL_GRID=OFF -DPARALLEL_BUFFER_DIMENSION=xyz \</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;-DCXX11_ENABLED=ON -DCUDA_ENABLED=OFF -DCUDA_ARCH_SM_TYPE=sm_50 -DLARGE_COORDINATES=OFF</div></div><!-- fragment --><h1>Testing</h1>
<p>Testing is performed using Travis CI. Open pull request with your changes and it will be automatically tested. For details, see .travis.yml.</p>
<h1>Build Flags</h1>
<p>Solver incorporates following features which could be set up during build.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;CMAKE_BUILD_TYPE - build type (Debug, ReleaseWithAsserts, Release)</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;VALUE_TYPE - use float (f), double (d) or long double (ld) floating point values</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;COMPLEX_FIELD_VALUES - use complex values or not (ON of OFF)</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;TIME_STEPS - number of steps in time (1 or 2)</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;PARALLEL_GRID_DIMENSION - number of dimensions in parallel grid (1, 2 or 3)</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;PRINT_MESSAGE - print debug output (ON or OFF)</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;PARALLEL_GRID - use parallel grid or not (ON or OFF)</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;PARALLEL_BUFFER_DIMENSION - dimension of parallel buffers, i.e. actual coordinate systems (x, y, z, xy, yz, xz, xyz)</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;CXX11_ENABLED - allow support of C++11 (ON or OFF)</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;CUDA_ENABLED - enable support of GPU (ON or OFF)</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;CUDA_ARCH_SM_TYPE - sm type for GPU</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;LARGE_COORDINATES - whether to use int64 for grid coordinates or int32 (ON or OFF)</div></div><!-- fragment --><p>If any of the flags change or some new are added, testing scripts should be updated.</p>
<h1>Launch</h1>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;cd Release/Source</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;# show help</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;./fdtd3d --help</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;# show version of solver</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;./fdtd3d --version</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;# example of launch command for 3D build</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;./fdtd3d --load-eps-from-file /tmp/eps.txt --save-res --time-steps 10 --sizex 80 --same-size --use-tfsf \</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;         --3d --angle-phi 0 --use-pml --dx 0.0005 --wavelength 0.02 --save-cmd-to-file cmd.txt</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;# example of the same launch with command line file</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;./fdtd3d --cmd-from-file cmd.txt</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;# cmd.txt file has the next format</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;#</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;# --load-eps-from-file</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;# /tmp/eps.txt</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;# --save-res</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;# --time-steps</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;# 1</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;# --sizex</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;# 80</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;# --same-size</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;# --use-tfsf</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;# --3d</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;# --angle-phi</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;# 0</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;# --use-pml</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;# --dx</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;# 0.0005</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;# --wavelength</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;# 0.02</div></div><!-- fragment --><p>You can find some examples in <code>./Examples</code>. See <a class="el" href="md_Docs_Input-Output.html">Input &amp; Output</a> for details about load and save of files.</p>
<h1>Documentation</h1>
<p>Doxygen documentation is available at <a href="http://zer011b.github.io/fdtd3d/">Documentation</a>.</p>
<p>To generate it manually from config in <code>./Doxyfile</code> run next commands:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;sudo apt-get install doxygen</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;doxygen</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;firefox docs/index.html</div></div><!-- fragment --><h1>How to cite</h1>
<p>You can site the following paper about the techniques used in fdtd3d:</p>
<p>Balykov G. (2017) Parallel FDTD Solver with Optimal Topology and Dynamic Balancing. In: Voevodin V., Sobolev S. (eds) Supercomputing. RuSCDays 2017. Communications in Computer and Information Science, vol 793. Springer, Cham</p>
<h1>About</h1>
<p>Feel free to ask any questions.</p>
<p>EasyBMP lib is used to output resulting electromagnetic fields. It is downloaded from sourceforge and used as is. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
